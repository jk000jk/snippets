/*
 *  JDBC java.sql
 *      -  connectarea la o db
 *      - executarea sql
 *      - prelucrarea rezultatelor
 *  DriverManager
 *      - Driver 1 (Mysql)
 *      - Driver 2 (Sql server)
 *      - Driver 3 (PostGreSQL)
 *  Driver -> o ap instalata local, sub forma unuio .jar
 *      implementeaza protocolul de cmunicatie dintre ap_java si SGBD
 *      - se fol. socketuri
 *      - independenta ap_java de SGBD
 * 
 * Nucleul JDBC
 * 
 * 1. DriverManager -> gestioneaza drivere JDBC specifice SGBD
 * 2. interfata conection -> realizeaza connexiunea dintre ap_java si db
 *      - orice comanda se executa in contextul unei connexiuni
 * 3. Statement, PreparedStatement, CallableStatement -> folosite pt. executarea
 *  efective a unei comenzi SQL, sau pt apelul unor functii/proceduri stocate.
 * 4. ResultSet e o clasa care memoreaza rezultatul sub forma tabelara si prelucreaza
 * rezultatul.
 * 5. SQLException
 *      
 * Etapele
 * 
 * 1. (optional) -> se incarca in memorie driverul specific JDBC -> apelul metodei 
 * statice forName(String driver) din clasa Class ex. Class.forName("com.mysql.jdbc.Driver")
 * 2. realizarea conexiunii prin apelul metodei statice getConnection(String url) din
 * clasa DriverManager si returneaza un obiect de tip connection. URL-ul este de forma
 * jdbc://SGBD/identificator (adresa masinii gazda + nr port + numele bazei de date
 * (optional se specifica user si parola)) ex.
 *  Connection con = DriverManager.getConnection("jdbc://mysql://localhost:3003/Angajati", "user", "parola")
 * 3. se associaza connexinii un context prin care se efectueaza commenzi sql. (statement) 
 *    - Statement -> fol. pr interogari fara parametri
 *    - PreparedStatement -> fo. pt. interogari cu parametri
 *    - CallableStatement pt apel, functii si proceduri stocate.
 *     
 *     1. Statement, se asociaza contextul prin apelul metodei createStatement() pt ob conexiune
 *        Statement st = con.createStatement();
 *      -> orice comanda SQL este sub forma unui string, pt contextul Statement putem apela
 *          -> executeQuery(String SQL);
 *          -> executeUpdate(String SQL);
 *          String sql1 = "SELECT * FROM date WHERE salariu >= 3000";
 *          ResultSet res = st.executeQuery(sql1);
 *              -> se fol un cursor pt parcuregea pe linii
 *              -> se fol. metodede: next(), first(), last(), previous()
 *          Extragem infomatiole de pe coloane se realizeaza cu metoda 
 *          getTipData(String "NumeleColoanei" sau int nr de ordine cu indexarea de la 1);    
 *          while (res.next()) {
 *              System.out.println(res.getSring("Nume") + " " + res.getInt(3));
 *          }
 */

package javaapplication1;

import java.sql.*;

public class JavaApplication1 {

    public static void main(String[] args) {
        try {
       Connection conn = 
               DriverManager.getConnection("jdbc:derby://localhost:1527/AngajatiFirma", "root", "12345");
        Statement pst = conn.createStatement();
        String sq1 = "SELECT * FROM Angajati WHERE salariu >= 3000";
        ResultSet res = pst.executeQuery(sq1);
        while (res.next()) {
            System.out.println(res.getString("CNP")  + " " + res.getString(2) 
                    + " " + res.getInt("Varsta") + res.getDouble("Salariu"));
        }
        } catch (SQLException ex) {
           System.out.println(ex.getMessage());
       }
    }
}




<?php

$con = mysqli_connect("localhost", "id5774869_root", "password", "id5774869_student");

if (mysqli_connect_error()) {
	echo "Connect Failure" . mysqli_connect_error();
	die();
}

mysqli_select_db($con, "id5774869_student");

$cuv = $_POST["cuv"];
$sql = "SELECT * FROM dictionar WHERE cuvant_en=\"$cuv\" OR cuvant_ro = \"$cuv\" LIMIT 1;";

if (!($y = mysqli_query($con, $sql)) {
	echo "Fail";
} 

while ($row = mysqli_fetch_assoc(y)) {
	echo $row["cuvant_ro"];
} 

mysqli_free_result($result);

mysqli_close($con);




 <!DOCTYPE html>
<html lang="en">
<head>
  <title>Dictionar</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container">
   <h3>Dictionar</h3>
   <br/>
   <form action="formular.php" method="POST" style="max-width:600px" onSubmit="handleSubmit()"/>
		<div class="form-group">
			<label>Cuvant RO</label>
			<input type="text" name="c_ro" class="form-control" />
		</div>
		<div class="form-group">
			<label>Cuvant EN</label>
			<input type="text" name="c_en" class="form-control" />
		</div>
		<button type="submit" class="btn btn-default">Submit</button>
   </form>
</div>
</body>
</html> 


<?php

$con = mysqli_connect("localhost", "id5774869_root", "password", "id5774869_student");

if (mysqli_connect_error()) {
	echo "Failled to connect to db" . mysqli_connect_error();
	die();
}

mysqli_select_db($con, "id5774869_student");

$c_ro = $_POST["c_ro"];
$c_en = $_POST["c_en"];

$sql = "INSERT INTO dictionar (cuvant_ro, cuvant_en) VALUES('$c_ro', '$c_en')";

if (mysqli_query($con, $sql)) {
	echo "Success";
} else {
	echo "Fail";
}

mysqli_close($con);
